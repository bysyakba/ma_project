Изначально мы зашли в документацию для ручки request
Создали ручку
Создали для нее тест
Добавили в тест параметризацию pytest.mark.parametrize
Список емейлов передаваемых в параметрайз - вынесли в константу
Добавили в ручку создание файла и запись в него емейлов
Добавили фикстуру для очистки и удаления файла
Добавили хелпер для проверки наличия емейлов в файле, перед его удалением

П.С.
Возможно, при создании ручки были какие-то косяки или недочеты, но обнаружить это надо будет вам, если захотите)

